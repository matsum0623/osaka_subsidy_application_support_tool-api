const { core } = require('./core')

module.exports = {
  get_item: async (after_school_id, year) => {
    const response = await core.query('PK = :p_key AND SK = :s_key', {
      ':p_key': 'AFTER_SCHOOL#' +  after_school_id,
      ':s_key': 'HOLIDAYS#' + year,
    })
    return (response.Items && response.Items.length > 0) ? response.Items[0] : {Holidays: {}}
  },
  put: async (after_school_id, year, holidays) => {
    return await core.put({
      PK: 'AFTER_SCHOOL#' +  after_school_id,
      SK: 'HOLIDAYS#' + year,
      Holidays: holidays,
    })
  },
}
